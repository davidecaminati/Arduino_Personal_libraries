&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;
&lt;title&gt;AccelStepper: AccelStepper.h Source File&lt;/title&gt;
&lt;link href=&quot;doxygen.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;
&lt;link href=&quot;tabs.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;
&lt;/head&gt;&lt;body&gt;
&lt;!-- Generated by Doxygen 1.5.6 --&gt;
&lt;div class=&quot;navigation&quot; id=&quot;top&quot;&gt;
  &lt;div class=&quot;tabs&quot;&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;index.html&quot;&gt;&lt;span&gt;Main&amp;nbsp;Page&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;annotated.html&quot;&gt;&lt;span&gt;Classes&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;files.html&quot;&gt;&lt;span&gt;Files&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;h1&gt;AccelStepper.h&lt;/h1&gt;&lt;div class=&quot;fragment&quot;&gt;&lt;pre class=&quot;fragment&quot;&gt;&lt;a name=&quot;l00001&quot;&gt;&lt;/a&gt;00001 &lt;span class=&quot;comment&quot;&gt;// AccelStepper.h&lt;/span&gt;
&lt;a name=&quot;l00002&quot;&gt;&lt;/a&gt;00002 &lt;span class=&quot;comment&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00003&quot;&gt;&lt;/a&gt;00003 &lt;span class=&quot;comment&quot;&gt;/// \mainpage AccelStepper library for Arduino&lt;/span&gt;
&lt;a name=&quot;l00004&quot;&gt;&lt;/a&gt;00004 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00005&quot;&gt;&lt;/a&gt;00005 &lt;span class=&quot;comment&quot;&gt;/// This is the Arduino AccelStepper library.&lt;/span&gt;
&lt;a name=&quot;l00006&quot;&gt;&lt;/a&gt;00006 &lt;span class=&quot;comment&quot;&gt;/// It provides an object-oriented interface for 2 or 4 pin stepper motors.&lt;/span&gt;
&lt;a name=&quot;l00007&quot;&gt;&lt;/a&gt;00007 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00008&quot;&gt;&lt;/a&gt;00008 &lt;span class=&quot;comment&quot;&gt;/// The standard Arduino IDE includes the Stepper library&lt;/span&gt;
&lt;a name=&quot;l00009&quot;&gt;&lt;/a&gt;00009 &lt;span class=&quot;comment&quot;&gt;/// (http://arduino.cc/en/Reference/Stepper) for stepper motors. It is&lt;/span&gt;
&lt;a name=&quot;l00010&quot;&gt;&lt;/a&gt;00010 &lt;span class=&quot;comment&quot;&gt;/// perfectly adequate for simple, single motor applications.&lt;/span&gt;
&lt;a name=&quot;l00011&quot;&gt;&lt;/a&gt;00011 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00012&quot;&gt;&lt;/a&gt;00012 &lt;span class=&quot;comment&quot;&gt;/// AccelStepper significantly improves on the standard Arduino Stepper library in several ways:&lt;/span&gt;
&lt;a name=&quot;l00013&quot;&gt;&lt;/a&gt;00013 &lt;span class=&quot;comment&quot;&gt;/// \li Supports acceleration and deceleration&lt;/span&gt;
&lt;a name=&quot;l00014&quot;&gt;&lt;/a&gt;00014 &lt;span class=&quot;comment&quot;&gt;/// \li Supports multiple simultaneous steppers, with independent concurrent stepping on each stepper&lt;/span&gt;
&lt;a name=&quot;l00015&quot;&gt;&lt;/a&gt;00015 &lt;span class=&quot;comment&quot;&gt;/// \li API functions never delay() or block&lt;/span&gt;
&lt;a name=&quot;l00016&quot;&gt;&lt;/a&gt;00016 &lt;span class=&quot;comment&quot;&gt;/// \li Supports 2 and 4 wire steppers, plus 4 wire half steppers.&lt;/span&gt;
&lt;a name=&quot;l00017&quot;&gt;&lt;/a&gt;00017 &lt;span class=&quot;comment&quot;&gt;/// \li Supports alternate stepping functions to enable support of AFMotor (https://github.com/adafruit/Adafruit-Motor-Shield-library)&lt;/span&gt;
&lt;a name=&quot;l00018&quot;&gt;&lt;/a&gt;00018 &lt;span class=&quot;comment&quot;&gt;/// \li Supports stepper drivers such as the Sparkfun EasyDriver (based on 3967 driver chip)&lt;/span&gt;
&lt;a name=&quot;l00019&quot;&gt;&lt;/a&gt;00019 &lt;span class=&quot;comment&quot;&gt;/// \li Very slow speeds are supported&lt;/span&gt;
&lt;a name=&quot;l00020&quot;&gt;&lt;/a&gt;00020 &lt;span class=&quot;comment&quot;&gt;/// \li Extensive API&lt;/span&gt;
&lt;a name=&quot;l00021&quot;&gt;&lt;/a&gt;00021 &lt;span class=&quot;comment&quot;&gt;/// \li Subclass support&lt;/span&gt;
&lt;a name=&quot;l00022&quot;&gt;&lt;/a&gt;00022 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00023&quot;&gt;&lt;/a&gt;00023 &lt;span class=&quot;comment&quot;&gt;/// The latest version of this documentation can be downloaded from &lt;/span&gt;
&lt;a name=&quot;l00024&quot;&gt;&lt;/a&gt;00024 &lt;span class=&quot;comment&quot;&gt;/// http://www.open.com.au/mikem/arduino/AccelStepper&lt;/span&gt;
&lt;a name=&quot;l00025&quot;&gt;&lt;/a&gt;00025 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00026&quot;&gt;&lt;/a&gt;00026 &lt;span class=&quot;comment&quot;&gt;/// Example Arduino programs are included to show the main modes of use.&lt;/span&gt;
&lt;a name=&quot;l00027&quot;&gt;&lt;/a&gt;00027 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00028&quot;&gt;&lt;/a&gt;00028 &lt;span class=&quot;comment&quot;&gt;/// The version of the package that this documentation refers to can be downloaded &lt;/span&gt;
&lt;a name=&quot;l00029&quot;&gt;&lt;/a&gt;00029 &lt;span class=&quot;comment&quot;&gt;/// from http://www.open.com.au/mikem/arduino/AccelStepper/AccelStepper-1.11.zip&lt;/span&gt;
&lt;a name=&quot;l00030&quot;&gt;&lt;/a&gt;00030 &lt;span class=&quot;comment&quot;&gt;/// You can find the latest version at http://www.open.com.au/mikem/arduino/AccelStepper&lt;/span&gt;
&lt;a name=&quot;l00031&quot;&gt;&lt;/a&gt;00031 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00032&quot;&gt;&lt;/a&gt;00032 &lt;span class=&quot;comment&quot;&gt;/// Tested on Arduino Diecimila and Mega with arduino-0018 &amp;amp; arduino-0021 &lt;/span&gt;
&lt;a name=&quot;l00033&quot;&gt;&lt;/a&gt;00033 &lt;span class=&quot;comment&quot;&gt;/// on OpenSuSE 11.1 and avr-libc-1.6.1-1.15,&lt;/span&gt;
&lt;a name=&quot;l00034&quot;&gt;&lt;/a&gt;00034 &lt;span class=&quot;comment&quot;&gt;/// cross-avr-binutils-2.19-9.1, cross-avr-gcc-4.1.3_20080612-26.5.&lt;/span&gt;
&lt;a name=&quot;l00035&quot;&gt;&lt;/a&gt;00035 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00036&quot;&gt;&lt;/a&gt;00036 &lt;span class=&quot;comment&quot;&gt;/// \par Installation&lt;/span&gt;
&lt;a name=&quot;l00037&quot;&gt;&lt;/a&gt;00037 &lt;span class=&quot;comment&quot;&gt;/// Install in the usual way: unzip the distribution zip file to the libraries&lt;/span&gt;
&lt;a name=&quot;l00038&quot;&gt;&lt;/a&gt;00038 &lt;span class=&quot;comment&quot;&gt;/// sub-folder of your sketchbook. &lt;/span&gt;
&lt;a name=&quot;l00039&quot;&gt;&lt;/a&gt;00039 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00040&quot;&gt;&lt;/a&gt;00040 &lt;span class=&quot;comment&quot;&gt;/// This software is Copyright (C) 2010 Mike McCauley. Use is subject to license&lt;/span&gt;
&lt;a name=&quot;l00041&quot;&gt;&lt;/a&gt;00041 &lt;span class=&quot;comment&quot;&gt;/// conditions. The main licensing options available are GPL V2 or Commercial:&lt;/span&gt;
&lt;a name=&quot;l00042&quot;&gt;&lt;/a&gt;00042 &lt;span class=&quot;comment&quot;&gt;/// &lt;/span&gt;
&lt;a name=&quot;l00043&quot;&gt;&lt;/a&gt;00043 &lt;span class=&quot;comment&quot;&gt;/// \par Open Source Licensing GPL V2&lt;/span&gt;
&lt;a name=&quot;l00044&quot;&gt;&lt;/a&gt;00044 &lt;span class=&quot;comment&quot;&gt;/// This is the appropriate option if you want to share the source code of your&lt;/span&gt;
&lt;a name=&quot;l00045&quot;&gt;&lt;/a&gt;00045 &lt;span class=&quot;comment&quot;&gt;/// application with everyone you distribute it to, and you also want to give them&lt;/span&gt;
&lt;a name=&quot;l00046&quot;&gt;&lt;/a&gt;00046 &lt;span class=&quot;comment&quot;&gt;/// the right to share who uses it. If you wish to use this software under Open&lt;/span&gt;
&lt;a name=&quot;l00047&quot;&gt;&lt;/a&gt;00047 &lt;span class=&quot;comment&quot;&gt;/// Source Licensing, you must contribute all your source code to the open source&lt;/span&gt;
&lt;a name=&quot;l00048&quot;&gt;&lt;/a&gt;00048 &lt;span class=&quot;comment&quot;&gt;/// community in accordance with the GPL Version 2 when your application is&lt;/span&gt;
&lt;a name=&quot;l00049&quot;&gt;&lt;/a&gt;00049 &lt;span class=&quot;comment&quot;&gt;/// distributed. See http://www.gnu.org/copyleft/gpl.html&lt;/span&gt;
&lt;a name=&quot;l00050&quot;&gt;&lt;/a&gt;00050 &lt;span class=&quot;comment&quot;&gt;/// &lt;/span&gt;
&lt;a name=&quot;l00051&quot;&gt;&lt;/a&gt;00051 &lt;span class=&quot;comment&quot;&gt;/// \par Commercial Licensing&lt;/span&gt;
&lt;a name=&quot;l00052&quot;&gt;&lt;/a&gt;00052 &lt;span class=&quot;comment&quot;&gt;/// This is the appropriate option if you are creating proprietary applications&lt;/span&gt;
&lt;a name=&quot;l00053&quot;&gt;&lt;/a&gt;00053 &lt;span class=&quot;comment&quot;&gt;/// and you are not prepared to distribute and share the source code of your&lt;/span&gt;
&lt;a name=&quot;l00054&quot;&gt;&lt;/a&gt;00054 &lt;span class=&quot;comment&quot;&gt;/// application. Contact info@open.com.au for details.&lt;/span&gt;
&lt;a name=&quot;l00055&quot;&gt;&lt;/a&gt;00055 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00056&quot;&gt;&lt;/a&gt;00056 &lt;span class=&quot;comment&quot;&gt;/// \par Revision History&lt;/span&gt;
&lt;a name=&quot;l00057&quot;&gt;&lt;/a&gt;00057 &lt;span class=&quot;comment&quot;&gt;/// \version 1.0 Initial release&lt;/span&gt;
&lt;a name=&quot;l00058&quot;&gt;&lt;/a&gt;00058 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00059&quot;&gt;&lt;/a&gt;00059 &lt;span class=&quot;comment&quot;&gt;/// \version 1.1 Added speed() function to get the current speed.&lt;/span&gt;
&lt;a name=&quot;l00060&quot;&gt;&lt;/a&gt;00060 &lt;span class=&quot;comment&quot;&gt;/// \version 1.2 Added runSpeedToPosition() submitted by Gunnar Arndt.&lt;/span&gt;
&lt;a name=&quot;l00061&quot;&gt;&lt;/a&gt;00061 &lt;span class=&quot;comment&quot;&gt;/// \version 1.3 Added support for stepper drivers (ie with Step and Direction inputs) with _pins == 1&lt;/span&gt;
&lt;a name=&quot;l00062&quot;&gt;&lt;/a&gt;00062 &lt;span class=&quot;comment&quot;&gt;/// \version 1.4 Added functional contructor to support AFMotor, contributed by Limor, with example sketches.&lt;/span&gt;
&lt;a name=&quot;l00063&quot;&gt;&lt;/a&gt;00063 &lt;span class=&quot;comment&quot;&gt;/// \version 1.5 Improvements contributed by Peter Mousley: Use of microsecond steps and other speed improvements&lt;/span&gt;
&lt;a name=&quot;l00064&quot;&gt;&lt;/a&gt;00064 &lt;span class=&quot;comment&quot;&gt;///              to increase max stepping speed to about 4kHz. New option for user to set the min allowed pulse width.&lt;/span&gt;
&lt;a name=&quot;l00065&quot;&gt;&lt;/a&gt;00065 &lt;span class=&quot;comment&quot;&gt;///              Added checks for already running at max speed and skip further calcs if so. &lt;/span&gt;
&lt;a name=&quot;l00066&quot;&gt;&lt;/a&gt;00066 &lt;span class=&quot;comment&quot;&gt;/// \version 1.6 Fixed a problem with wrapping of microsecond stepping that could cause stepping to hang. &lt;/span&gt;
&lt;a name=&quot;l00067&quot;&gt;&lt;/a&gt;00067 &lt;span class=&quot;comment&quot;&gt;///              Reported by Sandy Noble.&lt;/span&gt;
&lt;a name=&quot;l00068&quot;&gt;&lt;/a&gt;00068 &lt;span class=&quot;comment&quot;&gt;///              Removed redundant _lastRunTime member.&lt;/span&gt;
&lt;a name=&quot;l00069&quot;&gt;&lt;/a&gt;00069 &lt;span class=&quot;comment&quot;&gt;/// \version 1.7 Fixed a bug where setCurrentPosition() did always work as expected. Reported by Peter Linhart.&lt;/span&gt;
&lt;a name=&quot;l00070&quot;&gt;&lt;/a&gt;00070 &lt;span class=&quot;comment&quot;&gt;///              Reported by Sandy Noble.&lt;/span&gt;
&lt;a name=&quot;l00071&quot;&gt;&lt;/a&gt;00071 &lt;span class=&quot;comment&quot;&gt;///              Removed redundant _lastRunTime member.&lt;/span&gt;
&lt;a name=&quot;l00072&quot;&gt;&lt;/a&gt;00072 &lt;span class=&quot;comment&quot;&gt;/// \version 1.8 Added support for 4 pin half-steppers, requested by Harvey Moon&lt;/span&gt;
&lt;a name=&quot;l00073&quot;&gt;&lt;/a&gt;00073 &lt;span class=&quot;comment&quot;&gt;/// \version 1.9 setCurrentPosition() now also sets motor speed to 0.&lt;/span&gt;
&lt;a name=&quot;l00074&quot;&gt;&lt;/a&gt;00074 &lt;span class=&quot;comment&quot;&gt;/// \version 1.10 Builds on Arduino 1.0&lt;/span&gt;
&lt;a name=&quot;l00075&quot;&gt;&lt;/a&gt;00075 &lt;span class=&quot;comment&quot;&gt;/// \version 1.11 Improvments from Michael Ellison:&lt;/span&gt;
&lt;a name=&quot;l00076&quot;&gt;&lt;/a&gt;00076 &lt;span class=&quot;comment&quot;&gt;///   Added optional enable line support for stepper drivers&lt;/span&gt;
&lt;a name=&quot;l00077&quot;&gt;&lt;/a&gt;00077 &lt;span class=&quot;comment&quot;&gt;///   Added inversion for step/direction/enable lines for stepper drivers&lt;/span&gt;
&lt;a name=&quot;l00078&quot;&gt;&lt;/a&gt;00078 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00079&quot;&gt;&lt;/a&gt;00079 &lt;span class=&quot;comment&quot;&gt;/// \author  Mike McCauley (mikem@open.com.au)&lt;/span&gt;
&lt;a name=&quot;l00080&quot;&gt;&lt;/a&gt;00080 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;// Copyright (C) 2009 Mike McCauley&lt;/span&gt;
&lt;a name=&quot;l00081&quot;&gt;&lt;/a&gt;00081 &lt;span class=&quot;comment&quot;&gt;// $Id: AccelStepper.h,v 1.5 2011/03/21 00:42:15 mikem Exp mikem $&lt;/span&gt;
&lt;a name=&quot;l00082&quot;&gt;&lt;/a&gt;00082 
&lt;a name=&quot;l00083&quot;&gt;&lt;/a&gt;00083 &lt;span class=&quot;preprocessor&quot;&gt;#ifndef AccelStepper_h&lt;/span&gt;
&lt;a name=&quot;l00084&quot;&gt;&lt;/a&gt;00084 &lt;span class=&quot;preprocessor&quot;&gt;&lt;/span&gt;&lt;span class=&quot;preprocessor&quot;&gt;#define AccelStepper_h&lt;/span&gt;
&lt;a name=&quot;l00085&quot;&gt;&lt;/a&gt;00085 &lt;span class=&quot;preprocessor&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00086&quot;&gt;&lt;/a&gt;00086 &lt;span class=&quot;preprocessor&quot;&gt;#include &amp;lt;stdlib.h&amp;gt;&lt;/span&gt;
&lt;a name=&quot;l00087&quot;&gt;&lt;/a&gt;00087 &lt;span class=&quot;preprocessor&quot;&gt;#if ARDUINO &amp;gt;= 100&lt;/span&gt;
&lt;a name=&quot;l00088&quot;&gt;&lt;/a&gt;00088 &lt;span class=&quot;preprocessor&quot;&gt;&lt;/span&gt;&lt;span class=&quot;preprocessor&quot;&gt;#include &amp;lt;Arduino.h&amp;gt;&lt;/span&gt;
&lt;a name=&quot;l00089&quot;&gt;&lt;/a&gt;00089 &lt;span class=&quot;preprocessor&quot;&gt;#else&lt;/span&gt;
&lt;a name=&quot;l00090&quot;&gt;&lt;/a&gt;00090 &lt;span class=&quot;preprocessor&quot;&gt;&lt;/span&gt;&lt;span class=&quot;preprocessor&quot;&gt;#include &amp;lt;wiring.h&amp;gt;&lt;/span&gt;
&lt;a name=&quot;l00091&quot;&gt;&lt;/a&gt;00091 &lt;span class=&quot;preprocessor&quot;&gt;#endif&lt;/span&gt;
&lt;a name=&quot;l00092&quot;&gt;&lt;/a&gt;00092 &lt;span class=&quot;preprocessor&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00093&quot;&gt;&lt;/a&gt;00093 &lt;span class=&quot;comment&quot;&gt;// These defs cause trouble on some versions of Arduino&lt;/span&gt;
&lt;a name=&quot;l00094&quot;&gt;&lt;/a&gt;00094 &lt;span class=&quot;preprocessor&quot;&gt;#undef round&lt;/span&gt;
&lt;a name=&quot;l00095&quot;&gt;&lt;/a&gt;00095 &lt;span class=&quot;preprocessor&quot;&gt;&lt;/span&gt;&lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00096&quot;&gt;&lt;/a&gt;00096 &lt;span class=&quot;comment&quot;&gt;/////////////////////////////////////////////////////////////////////&lt;/span&gt;
&lt;a name=&quot;l00097&quot;&gt;&lt;/a&gt;00097 &lt;span class=&quot;comment&quot;&gt;/// \class AccelStepper AccelStepper.h &amp;lt;AccelStepper.h&amp;gt;&lt;/span&gt;
&lt;a name=&quot;l00098&quot;&gt;&lt;/a&gt;00098 &lt;span class=&quot;comment&quot;&gt;/// \brief Support for stepper motors with acceleration etc.&lt;/span&gt;
&lt;a name=&quot;l00099&quot;&gt;&lt;/a&gt;00099 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00100&quot;&gt;&lt;/a&gt;00100 &lt;span class=&quot;comment&quot;&gt;/// This defines a single 2 or 4 pin stepper motor, or stepper moter with fdriver chip, with optional&lt;/span&gt;
&lt;a name=&quot;l00101&quot;&gt;&lt;/a&gt;00101 &lt;span class=&quot;comment&quot;&gt;/// acceleration, deceleration, absolute positioning commands etc. Multiple&lt;/span&gt;
&lt;a name=&quot;l00102&quot;&gt;&lt;/a&gt;00102 &lt;span class=&quot;comment&quot;&gt;/// simultaneous steppers are supported, all moving &lt;/span&gt;
&lt;a name=&quot;l00103&quot;&gt;&lt;/a&gt;00103 &lt;span class=&quot;comment&quot;&gt;/// at different speeds and accelerations. &lt;/span&gt;
&lt;a name=&quot;l00104&quot;&gt;&lt;/a&gt;00104 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00105&quot;&gt;&lt;/a&gt;00105 &lt;span class=&quot;comment&quot;&gt;/// \par Operation&lt;/span&gt;
&lt;a name=&quot;l00106&quot;&gt;&lt;/a&gt;00106 &lt;span class=&quot;comment&quot;&gt;/// This module operates by computing a step time in microseconds. The step&lt;/span&gt;
&lt;a name=&quot;l00107&quot;&gt;&lt;/a&gt;00107 &lt;span class=&quot;comment&quot;&gt;/// time is recomputed after each step and after speed and acceleration&lt;/span&gt;
&lt;a name=&quot;l00108&quot;&gt;&lt;/a&gt;00108 &lt;span class=&quot;comment&quot;&gt;/// parameters are changed by the caller. The time of each step is recorded in&lt;/span&gt;
&lt;a name=&quot;l00109&quot;&gt;&lt;/a&gt;00109 &lt;span class=&quot;comment&quot;&gt;/// microseconds. The run() function steps the motor if a new step is due.&lt;/span&gt;
&lt;a name=&quot;l00110&quot;&gt;&lt;/a&gt;00110 &lt;span class=&quot;comment&quot;&gt;/// The run() function must be called frequently until the motor is in the&lt;/span&gt;
&lt;a name=&quot;l00111&quot;&gt;&lt;/a&gt;00111 &lt;span class=&quot;comment&quot;&gt;/// desired position, after which time run() will do nothing.&lt;/span&gt;
&lt;a name=&quot;l00112&quot;&gt;&lt;/a&gt;00112 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00113&quot;&gt;&lt;/a&gt;00113 &lt;span class=&quot;comment&quot;&gt;/// \par Positioning&lt;/span&gt;
&lt;a name=&quot;l00114&quot;&gt;&lt;/a&gt;00114 &lt;span class=&quot;comment&quot;&gt;/// Positions are specified by a signed long integer. At&lt;/span&gt;
&lt;a name=&quot;l00115&quot;&gt;&lt;/a&gt;00115 &lt;span class=&quot;comment&quot;&gt;/// construction time, the current position of the motor is consider to be 0. Positive&lt;/span&gt;
&lt;a name=&quot;l00116&quot;&gt;&lt;/a&gt;00116 &lt;span class=&quot;comment&quot;&gt;/// positions are clockwise from the initial position; negative positions are&lt;/span&gt;
&lt;a name=&quot;l00117&quot;&gt;&lt;/a&gt;00117 &lt;span class=&quot;comment&quot;&gt;/// anticlockwise. The curent position can be altered for instance after&lt;/span&gt;
&lt;a name=&quot;l00118&quot;&gt;&lt;/a&gt;00118 &lt;span class=&quot;comment&quot;&gt;/// initialization positioning.&lt;/span&gt;
&lt;a name=&quot;l00119&quot;&gt;&lt;/a&gt;00119 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00120&quot;&gt;&lt;/a&gt;00120 &lt;span class=&quot;comment&quot;&gt;/// \par Caveats&lt;/span&gt;
&lt;a name=&quot;l00121&quot;&gt;&lt;/a&gt;00121 &lt;span class=&quot;comment&quot;&gt;/// This is an open loop controller: If the motor stalls or is oversped,&lt;/span&gt;
&lt;a name=&quot;l00122&quot;&gt;&lt;/a&gt;00122 &lt;span class=&quot;comment&quot;&gt;/// AccelStepper will not have a correct &lt;/span&gt;
&lt;a name=&quot;l00123&quot;&gt;&lt;/a&gt;00123 &lt;span class=&quot;comment&quot;&gt;/// idea of where the motor really is (since there is no feedback of the motor's&lt;/span&gt;
&lt;a name=&quot;l00124&quot;&gt;&lt;/a&gt;00124 &lt;span class=&quot;comment&quot;&gt;/// real position. We only know where we _think_ it is, relative to the&lt;/span&gt;
&lt;a name=&quot;l00125&quot;&gt;&lt;/a&gt;00125 &lt;span class=&quot;comment&quot;&gt;/// initial starting point).&lt;/span&gt;
&lt;a name=&quot;l00126&quot;&gt;&lt;/a&gt;00126 &lt;span class=&quot;comment&quot;&gt;///&lt;/span&gt;
&lt;a name=&quot;l00127&quot;&gt;&lt;/a&gt;00127 &lt;span class=&quot;comment&quot;&gt;/// The fastest motor speed that can be reliably supported is 4000 steps per&lt;/span&gt;
&lt;a name=&quot;l00128&quot;&gt;&lt;/a&gt;00128 &lt;span class=&quot;comment&quot;&gt;/// second (4 kHz) at a clock frequency of 16 MHz. However, any speed less than that&lt;/span&gt;
&lt;a name=&quot;l00129&quot;&gt;&lt;/a&gt;00129 &lt;span class=&quot;comment&quot;&gt;/// down to very slow speeds (much less than one per second) are also supported,&lt;/span&gt;
&lt;a name=&quot;l00130&quot;&gt;&lt;/a&gt;00130 &lt;span class=&quot;comment&quot;&gt;/// provided the run() function is called frequently enough to step the motor&lt;/span&gt;
&lt;a name=&quot;l00131&quot;&gt;&lt;/a&gt;00131 &lt;span class=&quot;comment&quot;&gt;/// whenever required for the speed set.&lt;/span&gt;
&lt;a name=&quot;l00132&quot;&gt;&lt;/a&gt;&lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html&quot;&gt;00132&lt;/a&gt; &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;&lt;span class=&quot;keyword&quot;&gt;class &lt;/span&gt;&lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html&quot; title=&quot;Support for stepper motors with acceleration etc.&quot;&gt;AccelStepper&lt;/a&gt;
&lt;a name=&quot;l00133&quot;&gt;&lt;/a&gt;00133 {
&lt;a name=&quot;l00134&quot;&gt;&lt;/a&gt;00134 &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;:&lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00135&quot;&gt;&lt;/a&gt;00135 &lt;span class=&quot;comment&quot;&gt;    /// Constructor. You can have multiple simultaneous steppers, all moving&lt;/span&gt;
&lt;a name=&quot;l00136&quot;&gt;&lt;/a&gt;00136 &lt;span class=&quot;comment&quot;&gt;    /// at different speeds and accelerations, provided you call their run()&lt;/span&gt;
&lt;a name=&quot;l00137&quot;&gt;&lt;/a&gt;00137 &lt;span class=&quot;comment&quot;&gt;    /// functions at frequent enough intervals. Current Position is set to 0, target&lt;/span&gt;
&lt;a name=&quot;l00138&quot;&gt;&lt;/a&gt;00138 &lt;span class=&quot;comment&quot;&gt;    /// position is set to 0. MaxSpeed and Acceleration default to 1.0.&lt;/span&gt;
&lt;a name=&quot;l00139&quot;&gt;&lt;/a&gt;00139 &lt;span class=&quot;comment&quot;&gt;    /// The motor pins will be initialised to OUTPUT mode during the&lt;/span&gt;
&lt;a name=&quot;l00140&quot;&gt;&lt;/a&gt;00140 &lt;span class=&quot;comment&quot;&gt;    /// constructor by a call to enableOutputs().&lt;/span&gt;
&lt;a name=&quot;l00141&quot;&gt;&lt;/a&gt;00141 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] pins Number of pins to interface to. 1, 2 or 4 are&lt;/span&gt;
&lt;a name=&quot;l00142&quot;&gt;&lt;/a&gt;00142 &lt;span class=&quot;comment&quot;&gt;    /// supported. 1 means a stepper driver (with Step and Direction pins).&lt;/span&gt;
&lt;a name=&quot;l00143&quot;&gt;&lt;/a&gt;00143 &lt;span class=&quot;comment&quot;&gt;    /// If an enable line is also needed, call setEnablePin() after construction.&lt;/span&gt;
&lt;a name=&quot;l00144&quot;&gt;&lt;/a&gt;00144 &lt;span class=&quot;comment&quot;&gt;    /// You may also invert the pins using setPinsInverted().&lt;/span&gt;
&lt;a name=&quot;l00145&quot;&gt;&lt;/a&gt;00145 &lt;span class=&quot;comment&quot;&gt;    /// 2 means a 2 wire stepper. 4 means a 4 wire stepper. 8 means a 4 wire half stepper&lt;/span&gt;
&lt;a name=&quot;l00146&quot;&gt;&lt;/a&gt;00146 &lt;span class=&quot;comment&quot;&gt;    /// Defaults to 4 pins.&lt;/span&gt;
&lt;a name=&quot;l00147&quot;&gt;&lt;/a&gt;00147 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] pin1 Arduino digital pin number for motor pin 1. Defaults&lt;/span&gt;
&lt;a name=&quot;l00148&quot;&gt;&lt;/a&gt;00148 &lt;span class=&quot;comment&quot;&gt;    /// to pin 2. For a driver (pins==1), this is the Step input to the driver. Low to high transition means to step)&lt;/span&gt;
&lt;a name=&quot;l00149&quot;&gt;&lt;/a&gt;00149 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] pin2 Arduino digital pin number for motor pin 2. Defaults&lt;/span&gt;
&lt;a name=&quot;l00150&quot;&gt;&lt;/a&gt;00150 &lt;span class=&quot;comment&quot;&gt;    /// to pin 3. For a driver (pins==1), this is the Direction input the driver. High means forward.&lt;/span&gt;
&lt;a name=&quot;l00151&quot;&gt;&lt;/a&gt;00151 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] pin3 Arduino digital pin number for motor pin 3. Defaults&lt;/span&gt;
&lt;a name=&quot;l00152&quot;&gt;&lt;/a&gt;00152 &lt;span class=&quot;comment&quot;&gt;    /// to pin 4.&lt;/span&gt;
&lt;a name=&quot;l00153&quot;&gt;&lt;/a&gt;00153 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] pin4 Arduino digital pin number for motor pin 4. Defaults&lt;/span&gt;
&lt;a name=&quot;l00154&quot;&gt;&lt;/a&gt;00154 &lt;span class=&quot;comment&quot;&gt;    /// to pin 5.&lt;/span&gt;
&lt;a name=&quot;l00155&quot;&gt;&lt;/a&gt;00155 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#a1290897df35915069e5eca9d034038c&quot;&gt;AccelStepper&lt;/a&gt;(uint8_t pins = 4, uint8_t pin1 = 2, uint8_t pin2 = 3, uint8_t pin3 = 4, uint8_t pin4 = 5);
&lt;a name=&quot;l00156&quot;&gt;&lt;/a&gt;00156 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00157&quot;&gt;&lt;/a&gt;00157 &lt;span class=&quot;comment&quot;&gt;    /// Alternate Constructor which will call your own functions for forward and backward steps. &lt;/span&gt;
&lt;a name=&quot;l00158&quot;&gt;&lt;/a&gt;00158 &lt;span class=&quot;comment&quot;&gt;    /// You can have multiple simultaneous steppers, all moving&lt;/span&gt;
&lt;a name=&quot;l00159&quot;&gt;&lt;/a&gt;00159 &lt;span class=&quot;comment&quot;&gt;    /// at different speeds and accelerations, provided you call their run()&lt;/span&gt;
&lt;a name=&quot;l00160&quot;&gt;&lt;/a&gt;00160 &lt;span class=&quot;comment&quot;&gt;    /// functions at frequent enough intervals. Current Position is set to 0, target&lt;/span&gt;
&lt;a name=&quot;l00161&quot;&gt;&lt;/a&gt;00161 &lt;span class=&quot;comment&quot;&gt;    /// position is set to 0. MaxSpeed and Acceleration default to 1.0.&lt;/span&gt;
&lt;a name=&quot;l00162&quot;&gt;&lt;/a&gt;00162 &lt;span class=&quot;comment&quot;&gt;    /// Any motor initialization should happen before hand, no pins are used or initialized.&lt;/span&gt;
&lt;a name=&quot;l00163&quot;&gt;&lt;/a&gt;00163 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] forward void-returning procedure that will make a forward step&lt;/span&gt;
&lt;a name=&quot;l00164&quot;&gt;&lt;/a&gt;00164 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] backward void-returning procedure that will make a backward step&lt;/span&gt;
&lt;a name=&quot;l00165&quot;&gt;&lt;/a&gt;00165 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#a1290897df35915069e5eca9d034038c&quot;&gt;AccelStepper&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt; (*forward)(), &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt; (*backward)());
&lt;a name=&quot;l00166&quot;&gt;&lt;/a&gt;00166     &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00167&quot;&gt;&lt;/a&gt;00167 &lt;span class=&quot;comment&quot;&gt;    /// Set the target position. The run() function will try to move the motor&lt;/span&gt;
&lt;a name=&quot;l00168&quot;&gt;&lt;/a&gt;00168 &lt;span class=&quot;comment&quot;&gt;    /// from the current position to the target position set by the most&lt;/span&gt;
&lt;a name=&quot;l00169&quot;&gt;&lt;/a&gt;00169 &lt;span class=&quot;comment&quot;&gt;    /// recent call to this function.&lt;/span&gt;
&lt;a name=&quot;l00170&quot;&gt;&lt;/a&gt;00170 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] absolute The desired absolute position. Negative is&lt;/span&gt;
&lt;a name=&quot;l00171&quot;&gt;&lt;/a&gt;00171 &lt;span class=&quot;comment&quot;&gt;    /// anticlockwise from the 0 position.&lt;/span&gt;
&lt;a name=&quot;l00172&quot;&gt;&lt;/a&gt;00172 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#ce236ede35f87c63d18da25810ec9736&quot;&gt;moveTo&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt; absolute); 
&lt;a name=&quot;l00173&quot;&gt;&lt;/a&gt;00173 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00174&quot;&gt;&lt;/a&gt;00174 &lt;span class=&quot;comment&quot;&gt;    /// Set the target position relative to the current position&lt;/span&gt;
&lt;a name=&quot;l00175&quot;&gt;&lt;/a&gt;00175 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] relative The desired position relative to the current position. Negative is&lt;/span&gt;
&lt;a name=&quot;l00176&quot;&gt;&lt;/a&gt;00176 &lt;span class=&quot;comment&quot;&gt;    /// anticlockwise from the current position.&lt;/span&gt;
&lt;a name=&quot;l00177&quot;&gt;&lt;/a&gt;00177 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#68942c66e78fb7f7b5f0cdade6eb7f06&quot;&gt;move&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt; relative);
&lt;a name=&quot;l00178&quot;&gt;&lt;/a&gt;00178 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00179&quot;&gt;&lt;/a&gt;00179 &lt;span class=&quot;comment&quot;&gt;    /// Poll the motor and step it if a step is due, implementing&lt;/span&gt;
&lt;a name=&quot;l00180&quot;&gt;&lt;/a&gt;00180 &lt;span class=&quot;comment&quot;&gt;    /// accelerations and decelerations to achive the ratget position. You must call this as&lt;/span&gt;
&lt;a name=&quot;l00181&quot;&gt;&lt;/a&gt;00181 &lt;span class=&quot;comment&quot;&gt;    /// fequently as possible, but at least once per minimum step interval,&lt;/span&gt;
&lt;a name=&quot;l00182&quot;&gt;&lt;/a&gt;00182 &lt;span class=&quot;comment&quot;&gt;    /// preferably in your main loop.&lt;/span&gt;
&lt;a name=&quot;l00183&quot;&gt;&lt;/a&gt;00183 &lt;span class=&quot;comment&quot;&gt;    /// \return true if the motor is at the target position.&lt;/span&gt;
&lt;a name=&quot;l00184&quot;&gt;&lt;/a&gt;00184 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;boolean&lt;/span&gt; &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#608b2395b64ac15451d16d0371fe13ce&quot;&gt;run&lt;/a&gt;();
&lt;a name=&quot;l00185&quot;&gt;&lt;/a&gt;00185 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00186&quot;&gt;&lt;/a&gt;00186 &lt;span class=&quot;comment&quot;&gt;    /// Poll the motor and step it if a step is due, implmenting a constant&lt;/span&gt;
&lt;a name=&quot;l00187&quot;&gt;&lt;/a&gt;00187 &lt;span class=&quot;comment&quot;&gt;    /// speed as set by the most recent call to setSpeed().&lt;/span&gt;
&lt;a name=&quot;l00188&quot;&gt;&lt;/a&gt;00188 &lt;span class=&quot;comment&quot;&gt;    /// \return true if the motor was stepped.&lt;/span&gt;
&lt;a name=&quot;l00189&quot;&gt;&lt;/a&gt;00189 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;boolean&lt;/span&gt; &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#a4a6bdf99f698284faaeb5542b0b7514&quot;&gt;runSpeed&lt;/a&gt;();
&lt;a name=&quot;l00190&quot;&gt;&lt;/a&gt;00190 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00191&quot;&gt;&lt;/a&gt;00191 &lt;span class=&quot;comment&quot;&gt;    /// Sets the maximum permitted speed. the run() function will accelerate&lt;/span&gt;
&lt;a name=&quot;l00192&quot;&gt;&lt;/a&gt;00192 &lt;span class=&quot;comment&quot;&gt;    /// up to the speed set by this function.&lt;/span&gt;
&lt;a name=&quot;l00193&quot;&gt;&lt;/a&gt;00193 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] speed The desired maximum speed in steps per second. Must&lt;/span&gt;
&lt;a name=&quot;l00194&quot;&gt;&lt;/a&gt;00194 &lt;span class=&quot;comment&quot;&gt;    /// be &amp;gt; 0. Speeds of more than 1000 steps per second are unreliable. &lt;/span&gt;
&lt;a name=&quot;l00195&quot;&gt;&lt;/a&gt;00195 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#bee8d466229b87accba33d6ec929c18f&quot;&gt;setMaxSpeed&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;float&lt;/span&gt; &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#4f0989d0ae264e7eadfe1fa720769fb6&quot;&gt;speed&lt;/a&gt;);
&lt;a name=&quot;l00196&quot;&gt;&lt;/a&gt;00196 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00197&quot;&gt;&lt;/a&gt;00197 &lt;span class=&quot;comment&quot;&gt;    /// Sets the acceleration and deceleration parameter.&lt;/span&gt;
&lt;a name=&quot;l00198&quot;&gt;&lt;/a&gt;00198 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] acceleration The desired acceleration in steps per second&lt;/span&gt;
&lt;a name=&quot;l00199&quot;&gt;&lt;/a&gt;00199 &lt;span class=&quot;comment&quot;&gt;    /// per second. Must be &amp;gt; 0.&lt;/span&gt;
&lt;a name=&quot;l00200&quot;&gt;&lt;/a&gt;00200 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#dfb19e3cd2a028a1fe78131787604fd1&quot;&gt;setAcceleration&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;float&lt;/span&gt; acceleration);
&lt;a name=&quot;l00201&quot;&gt;&lt;/a&gt;00201 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00202&quot;&gt;&lt;/a&gt;00202 &lt;span class=&quot;comment&quot;&gt;    /// Sets the desired constant speed for use with runSpeed().&lt;/span&gt;
&lt;a name=&quot;l00203&quot;&gt;&lt;/a&gt;00203 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] speed The desired constant speed in steps per&lt;/span&gt;
&lt;a name=&quot;l00204&quot;&gt;&lt;/a&gt;00204 &lt;span class=&quot;comment&quot;&gt;    /// second. Positive is clockwise. Speeds of more than 1000 steps per&lt;/span&gt;
&lt;a name=&quot;l00205&quot;&gt;&lt;/a&gt;00205 &lt;span class=&quot;comment&quot;&gt;    /// second are unreliable. Very slow speeds may be set (eg 0.00027777 for&lt;/span&gt;
&lt;a name=&quot;l00206&quot;&gt;&lt;/a&gt;00206 &lt;span class=&quot;comment&quot;&gt;    /// once per hour, approximately. Speed accuracy depends on the Arduino&lt;/span&gt;
&lt;a name=&quot;l00207&quot;&gt;&lt;/a&gt;00207 &lt;span class=&quot;comment&quot;&gt;    /// crystal. Jitter depends on how frequently you call the runSpeed() function.&lt;/span&gt;
&lt;a name=&quot;l00208&quot;&gt;&lt;/a&gt;00208 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#e79c49ad69d5ccc9da0ee691fa4ca235&quot;&gt;setSpeed&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;float&lt;/span&gt; speed);
&lt;a name=&quot;l00209&quot;&gt;&lt;/a&gt;00209 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00210&quot;&gt;&lt;/a&gt;00210 &lt;span class=&quot;comment&quot;&gt;    /// The most recently set speed&lt;/span&gt;
&lt;a name=&quot;l00211&quot;&gt;&lt;/a&gt;00211 &lt;span class=&quot;comment&quot;&gt;    /// \return the most recent speed in steps per second&lt;/span&gt;
&lt;a name=&quot;l00212&quot;&gt;&lt;/a&gt;00212 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;float&lt;/span&gt;   &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#4f0989d0ae264e7eadfe1fa720769fb6&quot;&gt;speed&lt;/a&gt;();
&lt;a name=&quot;l00213&quot;&gt;&lt;/a&gt;00213 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00214&quot;&gt;&lt;/a&gt;00214 &lt;span class=&quot;comment&quot;&gt;    /// The distance from the current position to the target position.&lt;/span&gt;
&lt;a name=&quot;l00215&quot;&gt;&lt;/a&gt;00215 &lt;span class=&quot;comment&quot;&gt;    /// \return the distance from the current position to the target position&lt;/span&gt;
&lt;a name=&quot;l00216&quot;&gt;&lt;/a&gt;00216 &lt;span class=&quot;comment&quot;&gt;    /// in steps. Positive is clockwise from the current position.&lt;/span&gt;
&lt;a name=&quot;l00217&quot;&gt;&lt;/a&gt;00217 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#748665c3962e66fbc0e9373eb14c69c1&quot;&gt;distanceToGo&lt;/a&gt;();
&lt;a name=&quot;l00218&quot;&gt;&lt;/a&gt;00218 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00219&quot;&gt;&lt;/a&gt;00219 &lt;span class=&quot;comment&quot;&gt;    /// The most recently set target position.&lt;/span&gt;
&lt;a name=&quot;l00220&quot;&gt;&lt;/a&gt;00220 &lt;span class=&quot;comment&quot;&gt;    /// \return the target position&lt;/span&gt;
&lt;a name=&quot;l00221&quot;&gt;&lt;/a&gt;00221 &lt;span class=&quot;comment&quot;&gt;    /// in steps. Positive is clockwise from the 0 position.&lt;/span&gt;
&lt;a name=&quot;l00222&quot;&gt;&lt;/a&gt;00222 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#96685e0945b7cf75d5959da679cd911e&quot;&gt;targetPosition&lt;/a&gt;();
&lt;a name=&quot;l00223&quot;&gt;&lt;/a&gt;00223 
&lt;a name=&quot;l00224&quot;&gt;&lt;/a&gt;00224 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00225&quot;&gt;&lt;/a&gt;00225 &lt;span class=&quot;comment&quot;&gt;    /// The currently motor position.&lt;/span&gt;
&lt;a name=&quot;l00226&quot;&gt;&lt;/a&gt;00226 &lt;span class=&quot;comment&quot;&gt;    /// \return the current motor position&lt;/span&gt;
&lt;a name=&quot;l00227&quot;&gt;&lt;/a&gt;00227 &lt;span class=&quot;comment&quot;&gt;    /// in steps. Positive is clockwise from the 0 position.&lt;/span&gt;
&lt;a name=&quot;l00228&quot;&gt;&lt;/a&gt;00228 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#5dce13ab2a1b02b8f443318886bf6fc5&quot;&gt;currentPosition&lt;/a&gt;();  
&lt;a name=&quot;l00229&quot;&gt;&lt;/a&gt;00229 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00230&quot;&gt;&lt;/a&gt;00230 &lt;span class=&quot;comment&quot;&gt;    /// Resets the current position of the motor, so that wherever the motor&lt;/span&gt;
&lt;a name=&quot;l00231&quot;&gt;&lt;/a&gt;00231 &lt;span class=&quot;comment&quot;&gt;    /// happens to be right now is considered to be the new 0 position. Useful&lt;/span&gt;
&lt;a name=&quot;l00232&quot;&gt;&lt;/a&gt;00232 &lt;span class=&quot;comment&quot;&gt;    /// for setting a zero position on a stepper after an initial hardware&lt;/span&gt;
&lt;a name=&quot;l00233&quot;&gt;&lt;/a&gt;00233 &lt;span class=&quot;comment&quot;&gt;    /// positioning move.&lt;/span&gt;
&lt;a name=&quot;l00234&quot;&gt;&lt;/a&gt;00234 &lt;span class=&quot;comment&quot;&gt;    /// Has the side effect of setting the current motor speed to 0.&lt;/span&gt;
&lt;a name=&quot;l00235&quot;&gt;&lt;/a&gt;00235 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] position The position in steps of wherever the motor&lt;/span&gt;
&lt;a name=&quot;l00236&quot;&gt;&lt;/a&gt;00236 &lt;span class=&quot;comment&quot;&gt;    /// happens to be right now.&lt;/span&gt;
&lt;a name=&quot;l00237&quot;&gt;&lt;/a&gt;00237 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#9d917f014317fb9d3b5dc14e66f6c689&quot;&gt;setCurrentPosition&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt; position);  
&lt;a name=&quot;l00238&quot;&gt;&lt;/a&gt;00238     &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00239&quot;&gt;&lt;/a&gt;00239 &lt;span class=&quot;comment&quot;&gt;    /// Moves the motor to the target position and blocks until it is at&lt;/span&gt;
&lt;a name=&quot;l00240&quot;&gt;&lt;/a&gt;00240 &lt;span class=&quot;comment&quot;&gt;    /// position. Dont use this in event loops, since it blocks.&lt;/span&gt;
&lt;a name=&quot;l00241&quot;&gt;&lt;/a&gt;00241 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#344f58fef8cc34ac5aa75ba4b665d21c&quot;&gt;runToPosition&lt;/a&gt;();
&lt;a name=&quot;l00242&quot;&gt;&lt;/a&gt;00242 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00243&quot;&gt;&lt;/a&gt;00243 &lt;span class=&quot;comment&quot;&gt;    /// Runs at the currently selected speed until the target position is reached&lt;/span&gt;
&lt;a name=&quot;l00244&quot;&gt;&lt;/a&gt;00244 &lt;span class=&quot;comment&quot;&gt;    /// Does not implement accelerations.&lt;/span&gt;
&lt;a name=&quot;l00245&quot;&gt;&lt;/a&gt;00245 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;boolean&lt;/span&gt; &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#9270d20336e76ac1fd5bcd5b9c34f301&quot;&gt;runSpeedToPosition&lt;/a&gt;();
&lt;a name=&quot;l00246&quot;&gt;&lt;/a&gt;00246 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00247&quot;&gt;&lt;/a&gt;00247 &lt;span class=&quot;comment&quot;&gt;    /// Moves the motor to the new target position and blocks until it is at&lt;/span&gt;
&lt;a name=&quot;l00248&quot;&gt;&lt;/a&gt;00248 &lt;span class=&quot;comment&quot;&gt;    /// position. Dont use this in event loops, since it blocks.&lt;/span&gt;
&lt;a name=&quot;l00249&quot;&gt;&lt;/a&gt;00249 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] position The new target position.&lt;/span&gt;
&lt;a name=&quot;l00250&quot;&gt;&lt;/a&gt;00250 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#176c5d2e4c2f21e9e92b12e39a6f0e67&quot;&gt;runToNewPosition&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt; position);
&lt;a name=&quot;l00251&quot;&gt;&lt;/a&gt;00251 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00252&quot;&gt;&lt;/a&gt;00252 &lt;span class=&quot;comment&quot;&gt;    /// Disable motor pin outputs by setting them all LOW&lt;/span&gt;
&lt;a name=&quot;l00253&quot;&gt;&lt;/a&gt;00253 &lt;span class=&quot;comment&quot;&gt;    /// Depending on the design of your electronics this may turn off&lt;/span&gt;
&lt;a name=&quot;l00254&quot;&gt;&lt;/a&gt;00254 &lt;span class=&quot;comment&quot;&gt;    /// the power to the motor coils, saving power.&lt;/span&gt;
&lt;a name=&quot;l00255&quot;&gt;&lt;/a&gt;00255 &lt;span class=&quot;comment&quot;&gt;    /// This is useful to support Arduino low power modes: disable the outputs&lt;/span&gt;
&lt;a name=&quot;l00256&quot;&gt;&lt;/a&gt;00256 &lt;span class=&quot;comment&quot;&gt;    /// during sleep and then reenable with enableOutputs() before stepping&lt;/span&gt;
&lt;a name=&quot;l00257&quot;&gt;&lt;/a&gt;00257 &lt;span class=&quot;comment&quot;&gt;    /// again.&lt;/span&gt;
&lt;a name=&quot;l00258&quot;&gt;&lt;/a&gt;00258 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#3591e29a236e2935afd7f64ff6c22006&quot;&gt;disableOutputs&lt;/a&gt;();
&lt;a name=&quot;l00259&quot;&gt;&lt;/a&gt;00259 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00260&quot;&gt;&lt;/a&gt;00260 &lt;span class=&quot;comment&quot;&gt;    /// Enable motor pin outputs by setting the motor pins to OUTPUT&lt;/span&gt;
&lt;a name=&quot;l00261&quot;&gt;&lt;/a&gt;00261 &lt;span class=&quot;comment&quot;&gt;    /// mode. Called automatically by the constructor.&lt;/span&gt;
&lt;a name=&quot;l00262&quot;&gt;&lt;/a&gt;00262 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#a279a50d30d0413f570c692cff071643&quot;&gt;enableOutputs&lt;/a&gt;();
&lt;a name=&quot;l00263&quot;&gt;&lt;/a&gt;00263 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00264&quot;&gt;&lt;/a&gt;00264 &lt;span class=&quot;comment&quot;&gt;    /// Sets the minimum pulse width allowed by the stepper driver.&lt;/span&gt;
&lt;a name=&quot;l00265&quot;&gt;&lt;/a&gt;00265 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] minWidth The minimum pulse width in microseconds.&lt;/span&gt;
&lt;a name=&quot;l00266&quot;&gt;&lt;/a&gt;00266 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#f4d3818e691dad5dc518308796ccf154&quot;&gt;setMinPulseWidth&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;int&lt;/span&gt; minWidth);
&lt;a name=&quot;l00267&quot;&gt;&lt;/a&gt;00267 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00268&quot;&gt;&lt;/a&gt;00268 &lt;span class=&quot;comment&quot;&gt;    /// Sets the enable pin number for stepper drivers.&lt;/span&gt;
&lt;a name=&quot;l00269&quot;&gt;&lt;/a&gt;00269 &lt;span class=&quot;comment&quot;&gt;        /// 0xFF indicates unused (default).&lt;/span&gt;
&lt;a name=&quot;l00270&quot;&gt;&lt;/a&gt;00270 &lt;span class=&quot;comment&quot;&gt;    /// Otherwise, if a pin is set, the pin will be turned on when &lt;/span&gt;
&lt;a name=&quot;l00271&quot;&gt;&lt;/a&gt;00271 &lt;span class=&quot;comment&quot;&gt;    /// enableOutputs() is called and switched off when disableOutputs() &lt;/span&gt;
&lt;a name=&quot;l00272&quot;&gt;&lt;/a&gt;00272 &lt;span class=&quot;comment&quot;&gt;    /// is called.&lt;/span&gt;
&lt;a name=&quot;l00273&quot;&gt;&lt;/a&gt;00273 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] enablePin Arduino digital pin number for motor enable&lt;/span&gt;
&lt;a name=&quot;l00274&quot;&gt;&lt;/a&gt;00274 &lt;span class=&quot;comment&quot;&gt;    /// \sa setPinsInverted&lt;/span&gt;
&lt;a name=&quot;l00275&quot;&gt;&lt;/a&gt;00275 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#56a81c5f00d02ca19646718e88e974c0&quot;&gt;setEnablePin&lt;/a&gt;(uint8_t enablePin = 0xff);
&lt;a name=&quot;l00276&quot;&gt;&lt;/a&gt;00276 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00277&quot;&gt;&lt;/a&gt;00277 &lt;span class=&quot;comment&quot;&gt;    /// Sets the inversion for stepper driver pins&lt;/span&gt;
&lt;a name=&quot;l00278&quot;&gt;&lt;/a&gt;00278 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] direction True for inverted direction pin, false for non-inverted&lt;/span&gt;
&lt;a name=&quot;l00279&quot;&gt;&lt;/a&gt;00279 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] step      True for inverted step pin, false for non-inverted&lt;/span&gt;
&lt;a name=&quot;l00280&quot;&gt;&lt;/a&gt;00280 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] enable    True for inverted enable pin, false (default) for non-inverted&lt;/span&gt;
&lt;a name=&quot;l00281&quot;&gt;&lt;/a&gt;00281 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;    &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#797b4bdb580d4ca7a1cfeabe3df0de35&quot;&gt;setPinsInverted&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;bool&lt;/span&gt; direction, &lt;span class=&quot;keywordtype&quot;&gt;bool&lt;/span&gt; &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#3c9a220819d2451f79ff8a0c0a395b9f&quot;&gt;step&lt;/a&gt;, &lt;span class=&quot;keywordtype&quot;&gt;bool&lt;/span&gt; enable = &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;);
&lt;a name=&quot;l00282&quot;&gt;&lt;/a&gt;00282 
&lt;a name=&quot;l00283&quot;&gt;&lt;/a&gt;00283 &lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt;:
&lt;a name=&quot;l00284&quot;&gt;&lt;/a&gt;00284 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00285&quot;&gt;&lt;/a&gt;00285 &lt;span class=&quot;comment&quot;&gt;    /// Forces the library to compute a new instantaneous speed and set that as&lt;/span&gt;
&lt;a name=&quot;l00286&quot;&gt;&lt;/a&gt;00286 &lt;span class=&quot;comment&quot;&gt;    /// the current speed. Calls&lt;/span&gt;
&lt;a name=&quot;l00287&quot;&gt;&lt;/a&gt;00287 &lt;span class=&quot;comment&quot;&gt;    /// desiredSpeed(), which can be overridden by subclasses. It is called by&lt;/span&gt;
&lt;a name=&quot;l00288&quot;&gt;&lt;/a&gt;00288 &lt;span class=&quot;comment&quot;&gt;    /// the library:&lt;/span&gt;
&lt;a name=&quot;l00289&quot;&gt;&lt;/a&gt;00289 &lt;span class=&quot;comment&quot;&gt;    /// \li  after each step&lt;/span&gt;
&lt;a name=&quot;l00290&quot;&gt;&lt;/a&gt;00290 &lt;span class=&quot;comment&quot;&gt;    /// \li  after change to maxSpeed through setMaxSpeed()&lt;/span&gt;
&lt;a name=&quot;l00291&quot;&gt;&lt;/a&gt;00291 &lt;span class=&quot;comment&quot;&gt;    /// \li  after change to acceleration through setAcceleration()&lt;/span&gt;
&lt;a name=&quot;l00292&quot;&gt;&lt;/a&gt;00292 &lt;span class=&quot;comment&quot;&gt;    /// \li  after change to target position (relative or absolute) through&lt;/span&gt;
&lt;a name=&quot;l00293&quot;&gt;&lt;/a&gt;00293 &lt;span class=&quot;comment&quot;&gt;    /// move() or moveTo()&lt;/span&gt;
&lt;a name=&quot;l00294&quot;&gt;&lt;/a&gt;00294 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;           &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#ffbee789b5c19165846cf0409860ae79&quot;&gt;computeNewSpeed&lt;/a&gt;();
&lt;a name=&quot;l00295&quot;&gt;&lt;/a&gt;00295 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00296&quot;&gt;&lt;/a&gt;00296 &lt;span class=&quot;comment&quot;&gt;    /// Called to execute a step. Only called when a new step is&lt;/span&gt;
&lt;a name=&quot;l00297&quot;&gt;&lt;/a&gt;00297 &lt;span class=&quot;comment&quot;&gt;    /// required. Subclasses may override to implement new stepping&lt;/span&gt;
&lt;a name=&quot;l00298&quot;&gt;&lt;/a&gt;00298 &lt;span class=&quot;comment&quot;&gt;    /// interfaces. The default calls step1(), step2(), step4() or step8() depending on the&lt;/span&gt;
&lt;a name=&quot;l00299&quot;&gt;&lt;/a&gt;00299 &lt;span class=&quot;comment&quot;&gt;    /// number of pins defined for the stepper.&lt;/span&gt;
&lt;a name=&quot;l00300&quot;&gt;&lt;/a&gt;00300 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] step The current step phase number (0 to 7)&lt;/span&gt;
&lt;a name=&quot;l00301&quot;&gt;&lt;/a&gt;00301 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;   &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#3c9a220819d2451f79ff8a0c0a395b9f&quot;&gt;step&lt;/a&gt;(uint8_t step);
&lt;a name=&quot;l00302&quot;&gt;&lt;/a&gt;00302 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00303&quot;&gt;&lt;/a&gt;00303 &lt;span class=&quot;comment&quot;&gt;    /// Called to execute a step using stepper functions (pins = 0) Only called when a new step is&lt;/span&gt;
&lt;a name=&quot;l00304&quot;&gt;&lt;/a&gt;00304 &lt;span class=&quot;comment&quot;&gt;    /// required. Calls _forward() or _backward() to perform the step&lt;/span&gt;
&lt;a name=&quot;l00305&quot;&gt;&lt;/a&gt;00305 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;   &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#889f109756aa4c0a2feefebd8081a337&quot;&gt;step0&lt;/a&gt;(&lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;);
&lt;a name=&quot;l00306&quot;&gt;&lt;/a&gt;00306 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00307&quot;&gt;&lt;/a&gt;00307 &lt;span class=&quot;comment&quot;&gt;    /// Called to execute a step on a stepper drover (ie where pins == 1). Only called when a new step is&lt;/span&gt;
&lt;a name=&quot;l00308&quot;&gt;&lt;/a&gt;00308 &lt;span class=&quot;comment&quot;&gt;    /// required. Subclasses may override to implement new stepping&lt;/span&gt;
&lt;a name=&quot;l00309&quot;&gt;&lt;/a&gt;00309 &lt;span class=&quot;comment&quot;&gt;    /// interfaces. The default sets or clears the outputs of Step pin1 to step, &lt;/span&gt;
&lt;a name=&quot;l00310&quot;&gt;&lt;/a&gt;00310 &lt;span class=&quot;comment&quot;&gt;    /// and sets the output of _pin2 to the desired direction. The Step pin (_pin1) is pulsed for 1 microsecond&lt;/span&gt;
&lt;a name=&quot;l00311&quot;&gt;&lt;/a&gt;00311 &lt;span class=&quot;comment&quot;&gt;    /// which is the minimum STEP pulse width for the 3967 driver.&lt;/span&gt;
&lt;a name=&quot;l00312&quot;&gt;&lt;/a&gt;00312 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] step The current step phase number (0 to 7)&lt;/span&gt;
&lt;a name=&quot;l00313&quot;&gt;&lt;/a&gt;00313 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;   &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#cc64254ea242b53588e948335fd9305f&quot;&gt;step1&lt;/a&gt;(uint8_t step);
&lt;a name=&quot;l00314&quot;&gt;&lt;/a&gt;00314 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00315&quot;&gt;&lt;/a&gt;00315 &lt;span class=&quot;comment&quot;&gt;    /// Called to execute a step on a 2 pin motor. Only called when a new step is&lt;/span&gt;
&lt;a name=&quot;l00316&quot;&gt;&lt;/a&gt;00316 &lt;span class=&quot;comment&quot;&gt;    /// required. Subclasses may override to implement new stepping&lt;/span&gt;
&lt;a name=&quot;l00317&quot;&gt;&lt;/a&gt;00317 &lt;span class=&quot;comment&quot;&gt;    /// interfaces. The default sets or clears the outputs of pin1 and pin2&lt;/span&gt;
&lt;a name=&quot;l00318&quot;&gt;&lt;/a&gt;00318 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] step The current step phase number (0 to 7)&lt;/span&gt;
&lt;a name=&quot;l00319&quot;&gt;&lt;/a&gt;00319 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;   &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#88f11bf6361fe002585f731d34fe2e8b&quot;&gt;step2&lt;/a&gt;(uint8_t step);
&lt;a name=&quot;l00320&quot;&gt;&lt;/a&gt;00320 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00321&quot;&gt;&lt;/a&gt;00321 &lt;span class=&quot;comment&quot;&gt;    /// Called to execute a step on a 4 pin motor. Only called when a new step is&lt;/span&gt;
&lt;a name=&quot;l00322&quot;&gt;&lt;/a&gt;00322 &lt;span class=&quot;comment&quot;&gt;    /// required. Subclasses may override to implement new stepping&lt;/span&gt;
&lt;a name=&quot;l00323&quot;&gt;&lt;/a&gt;00323 &lt;span class=&quot;comment&quot;&gt;    /// interfaces. The default sets or clears the outputs of pin1, pin2,&lt;/span&gt;
&lt;a name=&quot;l00324&quot;&gt;&lt;/a&gt;00324 &lt;span class=&quot;comment&quot;&gt;    /// pin3, pin4.&lt;/span&gt;
&lt;a name=&quot;l00325&quot;&gt;&lt;/a&gt;00325 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] step The current step phase number (0 to 7)&lt;/span&gt;
&lt;a name=&quot;l00326&quot;&gt;&lt;/a&gt;00326 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;   &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#49e448d179bbe4e0f8003a3f9993789d&quot;&gt;step4&lt;/a&gt;(uint8_t step);
&lt;a name=&quot;l00327&quot;&gt;&lt;/a&gt;00327 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00328&quot;&gt;&lt;/a&gt;00328 &lt;span class=&quot;comment&quot;&gt;    /// Called to execute a step on a 4 pin half-steper motor. Only called when a new step is&lt;/span&gt;
&lt;a name=&quot;l00329&quot;&gt;&lt;/a&gt;00329 &lt;span class=&quot;comment&quot;&gt;    /// required. Subclasses may override to implement new stepping&lt;/span&gt;
&lt;a name=&quot;l00330&quot;&gt;&lt;/a&gt;00330 &lt;span class=&quot;comment&quot;&gt;    /// interfaces. The default sets or clears the outputs of pin1, pin2,&lt;/span&gt;
&lt;a name=&quot;l00331&quot;&gt;&lt;/a&gt;00331 &lt;span class=&quot;comment&quot;&gt;    /// pin3, pin4.&lt;/span&gt;
&lt;a name=&quot;l00332&quot;&gt;&lt;/a&gt;00332 &lt;span class=&quot;comment&quot;&gt;    /// \param[in] step The current step phase number (0 to 7)&lt;/span&gt;
&lt;a name=&quot;l00333&quot;&gt;&lt;/a&gt;00333 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;void&lt;/span&gt;   &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#5b33d1088e2beaf2176c42b08fb675ea&quot;&gt;step8&lt;/a&gt;(uint8_t step);
&lt;a name=&quot;l00334&quot;&gt;&lt;/a&gt;00334 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00335&quot;&gt;&lt;/a&gt;00335 &lt;span class=&quot;comment&quot;&gt;    /// Compute and return the desired speed. The default algorithm uses&lt;/span&gt;
&lt;a name=&quot;l00336&quot;&gt;&lt;/a&gt;00336 &lt;span class=&quot;comment&quot;&gt;    /// maxSpeed, acceleration and the current speed to set a new speed to&lt;/span&gt;
&lt;a name=&quot;l00337&quot;&gt;&lt;/a&gt;00337 &lt;span class=&quot;comment&quot;&gt;    /// move the motor from teh current position to the target&lt;/span&gt;
&lt;a name=&quot;l00338&quot;&gt;&lt;/a&gt;00338 &lt;span class=&quot;comment&quot;&gt;    /// position. Subclasses may override this to provide an alternate&lt;/span&gt;
&lt;a name=&quot;l00339&quot;&gt;&lt;/a&gt;00339 &lt;span class=&quot;comment&quot;&gt;    /// algorithm (but do not block). Called by computeNewSpeed whenever a new speed neds to be&lt;/span&gt;
&lt;a name=&quot;l00340&quot;&gt;&lt;/a&gt;00340 &lt;span class=&quot;comment&quot;&gt;    /// computed. &lt;/span&gt;
&lt;a name=&quot;l00341&quot;&gt;&lt;/a&gt;00341 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;float&lt;/span&gt;  &lt;a class=&quot;code&quot; href=&quot;classAccelStepper.html#6e4bd79c395e69beee31d76d0d3287e4&quot;&gt;desiredSpeed&lt;/a&gt;();
&lt;a name=&quot;l00342&quot;&gt;&lt;/a&gt;00342     
&lt;a name=&quot;l00343&quot;&gt;&lt;/a&gt;00343 &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt;:&lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00344&quot;&gt;&lt;/a&gt;00344 &lt;span class=&quot;comment&quot;&gt;    /// Number of pins on the stepper motor. Permits 2 or 4. 2 pins is a&lt;/span&gt;
&lt;a name=&quot;l00345&quot;&gt;&lt;/a&gt;00345 &lt;span class=&quot;comment&quot;&gt;    /// bipolar, and 4 pins is a unipolar.&lt;/span&gt;
&lt;a name=&quot;l00346&quot;&gt;&lt;/a&gt;00346 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    uint8_t        _pins;          &lt;span class=&quot;comment&quot;&gt;// 2 or 4&lt;/span&gt;
&lt;a name=&quot;l00347&quot;&gt;&lt;/a&gt;00347 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00348&quot;&gt;&lt;/a&gt;00348 &lt;span class=&quot;comment&quot;&gt;    /// Arduino pin number for the 2 or 4 pins required to interface to the&lt;/span&gt;
&lt;a name=&quot;l00349&quot;&gt;&lt;/a&gt;00349 &lt;span class=&quot;comment&quot;&gt;    /// stepper motor.&lt;/span&gt;
&lt;a name=&quot;l00350&quot;&gt;&lt;/a&gt;00350 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    uint8_t        _pin1, _pin2, _pin3, _pin4;
&lt;a name=&quot;l00351&quot;&gt;&lt;/a&gt;00351 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00352&quot;&gt;&lt;/a&gt;00352 &lt;span class=&quot;comment&quot;&gt;    /// The current absolution position in steps.&lt;/span&gt;
&lt;a name=&quot;l00353&quot;&gt;&lt;/a&gt;00353 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt;           _currentPos;    &lt;span class=&quot;comment&quot;&gt;// Steps&lt;/span&gt;
&lt;a name=&quot;l00354&quot;&gt;&lt;/a&gt;00354 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00355&quot;&gt;&lt;/a&gt;00355 &lt;span class=&quot;comment&quot;&gt;    /// The target position in steps. The AccelStepper library will move the&lt;/span&gt;
&lt;a name=&quot;l00356&quot;&gt;&lt;/a&gt;00356 &lt;span class=&quot;comment&quot;&gt;    /// motor from the _currentPos to the _targetPos, taking into account the&lt;/span&gt;
&lt;a name=&quot;l00357&quot;&gt;&lt;/a&gt;00357 &lt;span class=&quot;comment&quot;&gt;    /// max speed, acceleration and deceleration&lt;/span&gt;
&lt;a name=&quot;l00358&quot;&gt;&lt;/a&gt;00358 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt;           _targetPos;     &lt;span class=&quot;comment&quot;&gt;// Steps&lt;/span&gt;
&lt;a name=&quot;l00359&quot;&gt;&lt;/a&gt;00359 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00360&quot;&gt;&lt;/a&gt;00360 &lt;span class=&quot;comment&quot;&gt;    /// The current motos speed in steps per second&lt;/span&gt;
&lt;a name=&quot;l00361&quot;&gt;&lt;/a&gt;00361 &lt;span class=&quot;comment&quot;&gt;    /// Positive is clockwise&lt;/span&gt;
&lt;a name=&quot;l00362&quot;&gt;&lt;/a&gt;00362 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;float&lt;/span&gt;          _speed;         &lt;span class=&quot;comment&quot;&gt;// Steps per second&lt;/span&gt;
&lt;a name=&quot;l00363&quot;&gt;&lt;/a&gt;00363 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00364&quot;&gt;&lt;/a&gt;00364 &lt;span class=&quot;comment&quot;&gt;    /// The maximum permitted speed in steps per second. Must be &amp;gt; 0.&lt;/span&gt;
&lt;a name=&quot;l00365&quot;&gt;&lt;/a&gt;00365 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;float&lt;/span&gt;          _maxSpeed;
&lt;a name=&quot;l00366&quot;&gt;&lt;/a&gt;00366 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00367&quot;&gt;&lt;/a&gt;00367 &lt;span class=&quot;comment&quot;&gt;    /// The acceleration to use to accelerate or decelerate the motor in steps&lt;/span&gt;
&lt;a name=&quot;l00368&quot;&gt;&lt;/a&gt;00368 &lt;span class=&quot;comment&quot;&gt;    /// per second per second. Must be &amp;gt; 0&lt;/span&gt;
&lt;a name=&quot;l00369&quot;&gt;&lt;/a&gt;00369 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;float&lt;/span&gt;          _acceleration;
&lt;a name=&quot;l00370&quot;&gt;&lt;/a&gt;00370 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00371&quot;&gt;&lt;/a&gt;00371 &lt;span class=&quot;comment&quot;&gt;    /// The current interval between steps in microseconds&lt;/span&gt;
&lt;a name=&quot;l00372&quot;&gt;&lt;/a&gt;00372 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt;  _stepInterval;
&lt;a name=&quot;l00373&quot;&gt;&lt;/a&gt;00373 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00374&quot;&gt;&lt;/a&gt;00374 &lt;span class=&quot;comment&quot;&gt;    /// The last step time in microseconds&lt;/span&gt;
&lt;a name=&quot;l00375&quot;&gt;&lt;/a&gt;00375 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;long&lt;/span&gt;  _lastStepTime;
&lt;a name=&quot;l00376&quot;&gt;&lt;/a&gt;00376 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00377&quot;&gt;&lt;/a&gt;00377 &lt;span class=&quot;comment&quot;&gt;    /// The minimum allowed pulse width in microseconds&lt;/span&gt;
&lt;a name=&quot;l00378&quot;&gt;&lt;/a&gt;00378 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;keywordtype&quot;&gt;int&lt;/span&gt;   _minPulseWidth;
&lt;a name=&quot;l00379&quot;&gt;&lt;/a&gt;00379 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00380&quot;&gt;&lt;/a&gt;00380 &lt;span class=&quot;comment&quot;&gt;    /// Is the direction pin inverted?&lt;/span&gt;
&lt;a name=&quot;l00381&quot;&gt;&lt;/a&gt;00381 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;bool&lt;/span&gt;           _dirInverted;
&lt;a name=&quot;l00382&quot;&gt;&lt;/a&gt;00382 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00383&quot;&gt;&lt;/a&gt;00383 &lt;span class=&quot;comment&quot;&gt;    /// Is the step pin inverted?&lt;/span&gt;
&lt;a name=&quot;l00384&quot;&gt;&lt;/a&gt;00384 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;bool&lt;/span&gt;           _stepInverted;
&lt;a name=&quot;l00385&quot;&gt;&lt;/a&gt;00385 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00386&quot;&gt;&lt;/a&gt;00386 &lt;span class=&quot;comment&quot;&gt;    /// Is the enable pin inverted?&lt;/span&gt;
&lt;a name=&quot;l00387&quot;&gt;&lt;/a&gt;00387 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;keywordtype&quot;&gt;bool&lt;/span&gt;           _enableInverted;
&lt;a name=&quot;l00388&quot;&gt;&lt;/a&gt;00388 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;
&lt;a name=&quot;l00389&quot;&gt;&lt;/a&gt;00389 &lt;span class=&quot;comment&quot;&gt;        /// Enable pin for stepper driver, or 0xFF if unused.&lt;/span&gt;
&lt;a name=&quot;l00390&quot;&gt;&lt;/a&gt;00390 &lt;span class=&quot;comment&quot;&gt;&lt;/span&gt;    uint8_t        _enablePin;
&lt;a name=&quot;l00391&quot;&gt;&lt;/a&gt;00391 
&lt;a name=&quot;l00392&quot;&gt;&lt;/a&gt;00392     &lt;span class=&quot;comment&quot;&gt;// The pointer to a forward-step procedure&lt;/span&gt;
&lt;a name=&quot;l00393&quot;&gt;&lt;/a&gt;00393     void (*_forward)();
&lt;a name=&quot;l00394&quot;&gt;&lt;/a&gt;00394 
&lt;a name=&quot;l00395&quot;&gt;&lt;/a&gt;00395     &lt;span class=&quot;comment&quot;&gt;// The pointer to a backward-step procedure&lt;/span&gt;
&lt;a name=&quot;l00396&quot;&gt;&lt;/a&gt;00396     void (*_backward)();
&lt;a name=&quot;l00397&quot;&gt;&lt;/a&gt;00397 };
&lt;a name=&quot;l00398&quot;&gt;&lt;/a&gt;00398 
&lt;a name=&quot;l00399&quot;&gt;&lt;/a&gt;00399 &lt;span class=&quot;preprocessor&quot;&gt;#endif &lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;hr size=&quot;1&quot;&gt;&lt;address style=&quot;text-align: right;&quot;&gt;&lt;small&gt;Generated on Sun Jan 8 17:27:41 2012 for AccelStepper by&amp;nbsp;
&lt;a href=&quot;http://www.doxygen.org/index.html&quot;&gt;
&lt;img src=&quot;doxygen.png&quot; alt=&quot;doxygen&quot; align=&quot;middle&quot; border=&quot;0&quot;&gt;&lt;/a&gt; 1.5.6 &lt;/small&gt;&lt;/address&gt;
&lt;/body&gt;
&lt;/html&gt;
